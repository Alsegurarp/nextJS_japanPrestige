(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5418,6499,9225],{16520:(e,a,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/Contacto/Componente/Form",function(){return n(66499)}])},66499:(e,a,n)=>{"use strict";n.r(a),n.d(a,{Form:()=>d,default:()=>u});var t=n(74848),o=n(96540),r=n(90515),s=n.n(r),l=n(76424),i=n(94335);let c=(0,o.lazy)(()=>n.e(9306).then(n.bind(n,49306))),m=(0,o.lazy)(()=>Promise.all([n.e(7311),n.e(2122)]).then(n.bind(n,22122)));function d(){let[e,a]=(0,o.useState)(""),[n,r]=(0,o.useState)(""),[d,u]=(0,o.useState)(""),[p,h]=(0,o.useState)("+52"),[_,g]=(0,o.useState)(""),[v,x]=(0,o.useState)(""),[N,j]=(0,o.useState)(null),[C,f]=(0,o.useState)(null),[F,b]=(0,o.useState)(!1),[y,E]=(0,o.useState)(!1),[S,w]=(0,o.useState)(null),[A,D]=(0,o.useState)(null),T=(0,o.useRef)(null),k=new Date(2035,5,30),R=p.replace("+","").length,P="".concat(p).concat(_),q=R+_.length,L=e=>e.normalize("NFC").replace(RegExp("[^\\p{L}\\s]","gu"),"").replace(/\s{2,}/g," ").trimStart(),B=e=>e.toLowerCase().slice(0,50),H=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,n=e.replace(/[^\d]/g,""),t=Math.max(0,13-a.replace("+","").length);return n.slice(0,t)},O=e.trim().length>0,V=n.trim().length>0,M=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(d),U=q>=10&&q<=13,z=O&&V&&M&&U&&N,I=(0,l.useRouter)();(0,o.useEffect)(()=>{function e(e){T.current&&!T.current.contains(e.target)&&b(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let X=async t=>{var o,s,l;t.preventDefault(),E(!0),w(null),D(null);let c={firstName:e.trim(),lastName:n.trim(),email:d.trim(),countryCode:p,phoneLocal:_,phoneDigits:"".concat(R).concat(_.length),phoneFull:P,phoneRaw:P,comments:(v||"").trim()||"-",date:C?C.toLocaleDateString("es-MX",{day:"numeric",month:"long",year:"numeric"}):"-",recaptchaToken:N};try{if(!N)throw Error("Valida el reCAPTCHA antes de enviar.");if(!z)throw Error("Verifica que todos los campos requeridos est\xe9n completos y correctos.");let e="Contacto - Japon Premium: ".concat(c.firstName," ").concat(c.lastName),n="\nNuevo contacto desde formulario:\nNombre: ".concat(c.firstName," ").concat(c.lastName,"\nEmail: ").concat(c.email,"\nTel\xe9fono: ").concat(c.phoneFull,"\nFecha deseada: ").concat(c.date,"\nComentarios: ").concat(c.comments,"\nreCAPTCHA token: ").concat(c.recaptchaToken?"(present)":"(missing)","\n      ").trim(),t="\n        <h2>Nuevo contacto desde formulario</h2>\n        <p><strong>Nombre:</strong> ".concat(c.firstName," ").concat(c.lastName,"</p>\n        <p><strong>Email:</strong> ").concat(c.email,"</p>\n        <p><strong>Tel\xe9fono:</strong> ").concat(c.phoneFull,"</p>\n        <p><strong>Fecha deseada:</strong> ").concat(c.date,"</p>\n        <p><strong>Comentarios:</strong> ").concat(c.comments,"</p>\n      "),s=await i.A.post("".concat((void 0).VITE_API_BASE,"/send-email"),{to:"contacto@japonpremium.com.mx",cc:"grupo-santa-f@add.nocrm.io, crm@viajespremium.com.mx",subject:e,text:n,html:t});if(200===s.status)w("\xa1Enviado con \xe9xito! Te contactaremos pronto."),a(""),r(""),u(""),g(""),x(""),f(null),j(null),setTimeout(()=>I.push("/gracias"),500);else throw Error((null===(o=s.data)||void 0===o?void 0:o.message)||"Error en la respuesta del servidor")}catch(e){console.error(e),D((null==e?void 0:null===(l=e.response)||void 0===l?void 0:null===(s=l.data)||void 0===s?void 0:s.message)||(null==e?void 0:e.message)||"Error al enviar el formulario.")}finally{E(!1)}};return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:s().contenedorForm,children:(0,t.jsx)("form",{onSubmit:X,noValidate:!0,children:(0,t.jsxs)("div",{className:s().formStyle,children:[(0,t.jsx)("h5",{className:s().subHeader,children:"Datos personales"}),(0,t.jsxs)("div",{className:s().inputContainerName,children:[(0,t.jsx)("input",{id:"firstName",type:"text",className:s().inputNameApellido,placeholder:"Tu nombre",value:e,onChange:e=>a(L(e.target.value)),required:!0}),!O&&""!==e&&(0,t.jsx)("small",{className:s().error,children:"S\xf3lo letras y espacios."}),e.length>=35&&(0,t.jsxs)("small",{className:s().warning,children:["L\xedmite: ",e.length,"/40 caracteres"]}),(0,t.jsx)("input",{id:"lastName",type:"text",className:s().inputNameApellido,placeholder:"Tu apellido",value:n,onChange:e=>r(L(e.target.value)),required:!0}),!V&&""!==n&&(0,t.jsx)("small",{className:s().error,children:"S\xf3lo letras y espacios."}),n.length>=35&&(0,t.jsxs)("small",{className:s().warning,children:["L\xedmite: ",n.length,"/40 caracteres"]})]}),(0,t.jsxs)("div",{className:s().inputContainer,children:[(0,t.jsxs)("div",{className:s().phoneRow,children:[(0,t.jsx)("select",{"aria-label":"C\xf3digo de pa\xeds",className:s().input,value:p,onChange:e=>{let a=e.target.value;h(a),g(e=>H(e,a))},required:!0,children:[{name:"M\xe9xico",code:"+52"},{name:"Estados Unidos",code:"+1"},{name:"Canad\xe1",code:"+1"},{name:"Espa\xf1a",code:"+34"},{name:"Argentina",code:"+54"},{name:"Colombia",code:"+57"},{name:"Chile",code:"+56"},{name:"Per\xfa",code:"+51"},{name:"Guatemala",code:"+502"},{name:"Costa Rica",code:"+506"}].map(e=>(0,t.jsxs)("option",{value:e.code,children:[e.name," (",e.code,")"]},e.code+e.name))}),(0,t.jsx)("input",{id:"phone",type:"text",className:s().input,placeholder:"Tu n\xfamero",value:_,onChange:e=>g(H(e.target.value)),inputMode:"tel",required:!0})]}),(0,t.jsxs)("small",{className:s().muted,children:["N\xfamero completo: ",(0,t.jsx)("strong",{children:P})," — ",q," d\xedgitos (m\xedn. 10, m\xe1x. 13)"]}),""!==_&&!U&&(0,t.jsx)("small",{className:s().error,children:"Verifica el n\xfamero: el total (c\xf3digo + n\xfamero) debe tener entre 10 y 13 d\xedgitos."})]}),(0,t.jsxs)("div",{className:s().inputContainer,children:[(0,t.jsx)("input",{id:"email",type:"email",className:s().input,placeholder:"correo@ejemplo.com",value:d,onChange:e=>u(B(e.target.value)),inputMode:"email",required:!0}),(0,t.jsxs)("small",{className:s().muted,children:[d.length,"/50"]}),""!==d&&!M&&(0,t.jsx)("small",{className:s().error,children:"Debe tener formato v\xe1lido y terminar en .com, .com.mx o .es"})]}),(0,t.jsx)("h5",{className:s().subHeader,children:"Sobre tu viaje"}),(0,t.jsxs)("div",{className:s().inputContainer,children:[(0,t.jsx)("label",{htmlFor:"date-display",children:"Fecha aproximada de viaje"}),(0,t.jsxs)("div",{ref:T,style:{position:"relative",display:"flex",flexDirection:"column"},children:[(0,t.jsx)("input",{id:"date-display",type:"text",readOnly:!0,className:s().input,value:C?C.toLocaleDateString():"",placeholder:"Selecciona una fecha",onClick:()=>b(e=>!e)}),F&&(0,t.jsx)("div",{className:s().popover,children:(0,t.jsx)(m,{value:C,onChange:e=>{f(e),b(!1)},maxDate:k})})]})]}),(0,t.jsxs)("div",{className:s().inputContainer,children:[(0,t.jsx)("label",{htmlFor:"comments",children:"Comentarios adicionales (opcional)"}),(0,t.jsx)("textarea",{id:"comments",className:s().input,placeholder:"Escribe cualquier comentario...",value:v,onChange:e=>x(e.target.value),rows:4})]}),(0,t.jsx)("div",{className:"".concat(s().inputContainer," ").concat(s().recaptchaContainer),children:(0,t.jsx)(c,{sitekey:"6LcOB9krAAAAAFBEuSUBB2UP1WLngHOnRqy5qKPA",onChange:e=>j(e),onExpired:()=>j(null),onError:()=>j(null)})}),(0,t.jsx)("div",{className:s().inputContainer,children:(0,t.jsx)("button",{className:s().button,type:"submit",disabled:y||!z,children:y?"Enviando…":"Enviar"})}),S&&(0,t.jsx)("p",{className:s().success,children:S}),A&&(0,t.jsx)("p",{className:s().error,children:A})]})})})})}let u=d},90515:e=>{e.exports={wrapper:"Form_wrapper__TuueU",popover:"Form_popover__ug9fo",button:"Form_button__tP_Os",contenedorForm:"Form_contenedorForm__LJpn_",inputContainerName:"Form_inputContainerName__7wdqD",inputNameApellido:"Form_inputNameApellido__JcPF3",inputContainer:"Form_inputContainer__YIUup",success:"Form_success__RTN2p",error:"Form_error__Tqxmi",recaptchaContainer:"Form_recaptchaContainer__i46gR",formStyle:"Form_formStyle__eQ1So",submitBtn:"Form_submitBtn__oukBR",input:"Form_input__Pal9b",phoneRow:"Form_phoneRow__yKZy5",subHeader:"Form_subHeader__bKxEe",muted:"Form_muted__dkTEa",letrasDoradasContainer:"Form_letrasDoradasContainer__p9Ibt",letrasDoradasResponsive:"Form_letrasDoradasResponsive__4rzXV",letrasDoradasDesktop:"Form_letrasDoradasDesktop__CnS8S"}}},e=>{var a=a=>e(e.s=a);e.O(0,[1326,636,1355,8792],()=>a(16520)),_N_E=e.O()}]);