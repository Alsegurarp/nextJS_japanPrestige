(()=>{var e={};e.id=9225,e.ids=[3220,6499,9225],e.modules={30671:(e,t)=>{"use strict";Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,a){return a in t?t[a]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,a)):"function"==typeof t&&"default"===a?t:void 0}}})},30115:e=>{e.exports={wrapper:"Form_wrapper__TuueU",popover:"Form_popover__ug9fo",button:"Form_button__tP_Os",contenedorForm:"Form_contenedorForm__LJpn_",inputContainerName:"Form_inputContainerName__7wdqD",inputNameApellido:"Form_inputNameApellido__JcPF3",inputContainer:"Form_inputContainer__YIUup",success:"Form_success__RTN2p",error:"Form_error__Tqxmi",recaptchaContainer:"Form_recaptchaContainer__i46gR",formStyle:"Form_formStyle__eQ1So",submitBtn:"Form_submitBtn__oukBR",input:"Form_input__Pal9b",phoneRow:"Form_phoneRow__yKZy5",subHeader:"Form_subHeader__bKxEe",muted:"Form_muted__dkTEa",letrasDoradasContainer:"Form_letrasDoradasContainer__p9Ibt",letrasDoradasResponsive:"Form_letrasDoradasResponsive__4rzXV",letrasDoradasDesktop:"Form_letrasDoradasDesktop__CnS8S"}},58451:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{config:()=>_,default:()=>p,getServerSideProps:()=>x,getStaticPaths:()=>g,getStaticProps:()=>h,reportWebVitals:()=>v,routeModule:()=>S,unstable_getServerProps:()=>P,unstable_getServerSideProps:()=>b,unstable_getStaticParams:()=>N,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>f});var s=a(63865),n=a(9455),o=a(30671),l=a(17627),i=a.n(l),c=a(35203),u=a.n(c),m=a(66499),d=e([m]);m=(d.then?(await d)():d)[0];let p=(0,o.M)(m,"default"),h=(0,o.M)(m,"getStaticProps"),g=(0,o.M)(m,"getStaticPaths"),x=(0,o.M)(m,"getServerSideProps"),_=(0,o.M)(m,"config"),v=(0,o.M)(m,"reportWebVitals"),f=(0,o.M)(m,"unstable_getStaticProps"),j=(0,o.M)(m,"unstable_getStaticPaths"),N=(0,o.M)(m,"unstable_getStaticParams"),P=(0,o.M)(m,"unstable_getServerProps"),b=(0,o.M)(m,"unstable_getServerSideProps"),S=new s.PagesRouteModule({definition:{kind:n.A.PAGES,page:"/Contacto/Componente/Form",pathname:"/Contacto/Componente/Form",bundlePath:"",filename:""},components:{App:u(),Document:i()},userland:m});r()}catch(e){r(e)}})},35203:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let r=a(99929),s=a(8732),n=r._(a(82015)),o=a(4881);async function l(e){let{Component:t,ctx:a}=e;return{pageProps:await (0,o.loadGetInitialProps)(t,a)}}class i extends n.default.Component{render(){let{Component:e,pageProps:t}=this.props;return(0,s.jsx)(e,{...t})}}i.origGetInitialProps=l,i.getInitialProps=l,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},66499:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{Form:()=>m,default:()=>h});var s=a(8732),n=a(82015),o=a(30115),l=a.n(o),i=a(76424),c=a(1428),u=e([c]);c=(u.then?(await u)():u)[0];let d=(0,n.lazy)(()=>Promise.resolve().then(a.t.bind(a,89341,23))),p=(0,n.lazy)(()=>a.e(2122).then(a.bind(a,22122)));function m(){let[e,t]=(0,n.useState)(""),[a,r]=(0,n.useState)(""),[o,u]=(0,n.useState)(""),[m,h]=(0,n.useState)("+52"),[g,x]=(0,n.useState)(""),[_,v]=(0,n.useState)(""),[f,j]=(0,n.useState)(null),[N,P]=(0,n.useState)(null),[b,S]=(0,n.useState)(!1),[y,C]=(0,n.useState)(!1),[F,A]=(0,n.useState)(null),[E,M]=(0,n.useState)(null),w=(0,n.useRef)(null),$=new Date(2035,5,30),q=m.replace("+","").length,D=`${m}${g}`,T=q+g.length,R=e=>e.normalize("NFC").replace(/[^\p{L}\s]/gu,"").replace(/\s{2,}/g," ").trimStart(),k=e=>e.toLowerCase().slice(0,50),G=(e,t=m)=>{let a=e.replace(/[^\d]/g,""),r=t.replace("+","").length,s=Math.max(0,13-r);return a.slice(0,s)},O=e.trim().length>0,I=a.trim().length>0,L=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(o),B=T>=10&&T<=13,V=O&&I&&L&&B&&f,H=(0,i.useRouter)(),U=async s=>{s.preventDefault(),C(!0),A(null),M(null);let n={firstName:e.trim(),lastName:a.trim(),email:o.trim(),countryCode:m,phoneLocal:g,phoneDigits:`${q}${g.length}`,phoneFull:D,phoneRaw:D,comments:(_||"").trim()||"-",date:N?N.toLocaleDateString("es-MX",{day:"numeric",month:"long",year:"numeric"}):"-",recaptchaToken:f};try{if(!f)throw Error("Valida el reCAPTCHA antes de enviar.");if(!V)throw Error("Verifica que todos los campos requeridos est\xe9n completos y correctos.");let e=`Contacto - Japon Premium: ${n.firstName} ${n.lastName}`,a=`
Nuevo contacto desde formulario:
Nombre: ${n.firstName} ${n.lastName}
Email: ${n.email}
Tel\xe9fono: ${n.phoneFull}
Fecha deseada: ${n.date}
Comentarios: ${n.comments}
reCAPTCHA token: ${n.recaptchaToken?"(present)":"(missing)"}
      `.trim(),s=`
        <h2>Nuevo contacto desde formulario</h2>
        <p><strong>Nombre:</strong> ${n.firstName} ${n.lastName}</p>
        <p><strong>Email:</strong> ${n.email}</p>
        <p><strong>Tel\xe9fono:</strong> ${n.phoneFull}</p>
        <p><strong>Fecha deseada:</strong> ${n.date}</p>
        <p><strong>Comentarios:</strong> ${n.comments}</p>
      `,o=await c.default.post(`${(void 0).VITE_API_BASE}/send-email`,{to:"contacto@japonpremium.com.mx",cc:"grupo-santa-f@add.nocrm.io, crm@viajespremium.com.mx",subject:e,text:a,html:s});if(200===o.status)A("\xa1Enviado con \xe9xito! Te contactaremos pronto."),t(""),r(""),u(""),x(""),v(""),P(null),j(null),setTimeout(()=>H.push("/gracias"),500);else throw Error(o.data?.message||"Error en la respuesta del servidor")}catch(e){console.error(e),M(e?.response?.data?.message||e?.message||"Error al enviar el formulario.")}finally{C(!1)}};return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:l().contenedorForm,children:(0,s.jsx)("form",{onSubmit:U,noValidate:!0,children:(0,s.jsxs)("div",{className:l().formStyle,children:[(0,s.jsx)("h5",{className:l().subHeader,children:"Datos personales"}),(0,s.jsxs)("div",{className:l().inputContainerName,children:[(0,s.jsx)("input",{id:"firstName",type:"text",className:l().inputNameApellido,placeholder:"Tu nombre",value:e,onChange:e=>t(R(e.target.value)),required:!0}),!O&&""!==e&&(0,s.jsx)("small",{className:l().error,children:"S\xf3lo letras y espacios."}),e.length>=35&&(0,s.jsxs)("small",{className:l().warning,children:["L\xedmite: ",e.length,"/40 caracteres"]}),(0,s.jsx)("input",{id:"lastName",type:"text",className:l().inputNameApellido,placeholder:"Tu apellido",value:a,onChange:e=>r(R(e.target.value)),required:!0}),!I&&""!==a&&(0,s.jsx)("small",{className:l().error,children:"S\xf3lo letras y espacios."}),a.length>=35&&(0,s.jsxs)("small",{className:l().warning,children:["L\xedmite: ",a.length,"/40 caracteres"]})]}),(0,s.jsxs)("div",{className:l().inputContainer,children:[(0,s.jsxs)("div",{className:l().phoneRow,children:[(0,s.jsx)("select",{"aria-label":"C\xf3digo de pa\xeds",className:l().input,value:m,onChange:e=>{let t=e.target.value;h(t),x(e=>G(e,t))},required:!0,children:[{name:"M\xe9xico",code:"+52"},{name:"Estados Unidos",code:"+1"},{name:"Canad\xe1",code:"+1"},{name:"Espa\xf1a",code:"+34"},{name:"Argentina",code:"+54"},{name:"Colombia",code:"+57"},{name:"Chile",code:"+56"},{name:"Per\xfa",code:"+51"},{name:"Guatemala",code:"+502"},{name:"Costa Rica",code:"+506"}].map(e=>(0,s.jsxs)("option",{value:e.code,children:[e.name," (",e.code,")"]},e.code+e.name))}),(0,s.jsx)("input",{id:"phone",type:"text",className:l().input,placeholder:"Tu n\xfamero",value:g,onChange:e=>x(G(e.target.value)),inputMode:"tel",required:!0})]}),(0,s.jsxs)("small",{className:l().muted,children:["N\xfamero completo: ",(0,s.jsx)("strong",{children:D})," — ",T," d\xedgitos (m\xedn. 10, m\xe1x. 13)"]}),""!==g&&!B&&(0,s.jsx)("small",{className:l().error,children:"Verifica el n\xfamero: el total (c\xf3digo + n\xfamero) debe tener entre 10 y 13 d\xedgitos."})]}),(0,s.jsxs)("div",{className:l().inputContainer,children:[(0,s.jsx)("input",{id:"email",type:"email",className:l().input,placeholder:"correo@ejemplo.com",value:o,onChange:e=>u(k(e.target.value)),inputMode:"email",required:!0}),(0,s.jsxs)("small",{className:l().muted,children:[o.length,"/50"]}),""!==o&&!L&&(0,s.jsx)("small",{className:l().error,children:"Debe tener formato v\xe1lido y terminar en .com, .com.mx o .es"})]}),(0,s.jsx)("h5",{className:l().subHeader,children:"Sobre tu viaje"}),(0,s.jsxs)("div",{className:l().inputContainer,children:[(0,s.jsx)("label",{htmlFor:"date-display",children:"Fecha aproximada de viaje"}),(0,s.jsxs)("div",{ref:w,style:{position:"relative",display:"flex",flexDirection:"column"},children:[(0,s.jsx)("input",{id:"date-display",type:"text",readOnly:!0,className:l().input,value:N?N.toLocaleDateString():"",placeholder:"Selecciona una fecha",onClick:()=>S(e=>!e)}),b&&(0,s.jsx)("div",{className:l().popover,children:(0,s.jsx)(p,{value:N,onChange:e=>{P(e),S(!1)},maxDate:$})})]})]}),(0,s.jsxs)("div",{className:l().inputContainer,children:[(0,s.jsx)("label",{htmlFor:"comments",children:"Comentarios adicionales (opcional)"}),(0,s.jsx)("textarea",{id:"comments",className:l().input,placeholder:"Escribe cualquier comentario...",value:_,onChange:e=>v(e.target.value),rows:4})]}),(0,s.jsx)("div",{className:`${l().inputContainer} ${l().recaptchaContainer}`,children:(0,s.jsx)(d,{sitekey:"6LcOB9krAAAAAFBEuSUBB2UP1WLngHOnRqy5qKPA",onChange:e=>j(e),onExpired:()=>j(null),onError:()=>j(null)})}),(0,s.jsx)("div",{className:l().inputContainer,children:(0,s.jsx)("button",{className:l().button,type:"submit",disabled:y||!V,children:y?"Enviando…":"Enviar"})}),F&&(0,s.jsx)("p",{className:l().success,children:F}),E&&(0,s.jsx)("p",{className:l().error,children:E})]})})})})}let h=m;r()}catch(e){r(e)}})},9455:(e,t)=>{"use strict";var a;Object.defineProperty(t,"A",{enumerable:!0,get:function(){return a}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE"}(a||(a={}))},40361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},82015:e=>{"use strict";e.exports=require("react")},89341:e=>{"use strict";e.exports=require("react-google-recaptcha")},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},33873:e=>{"use strict";e.exports=require("path")},1428:e=>{"use strict";e.exports=import("axios")}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[7627,6424],()=>a(58451));module.exports=r})();